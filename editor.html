<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä —Ä–æ–∑–∫–ª–∞–¥—É</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="editor.css">
</head>
<body>

    <header>
        <div class="header-inner">
            <div class="left-controls">
                <a href="index.html" class="back-btn">‚Üê –ù–∞ —Å–∞–π—Ç</a>
            </div>
            <h1>–†–µ–¥–∞–∫—Ç–æ—Ä</h1>
            <div class="right-controls">
                <input type="file" id="importFile" accept=".json" style="display: none;">
                <button id="importBtn" class="btn-sm">üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏</button>
                <button id="exportJsonBtn" class="btn-sm">‚¨áÔ∏è –ï–∫—Å–ø–æ—Ä—Ç</button>
            </div>
        </div>
    </header>

    <main class="wizard-container">
        <div class="wizard-progress">
            <div class="step-indicator active" id="navStep1" data-step="1">1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</div>
            <div class="step-indicator" id="navStep2" data-step="2">2. –ü—Ä–µ–¥–º–µ—Ç–∏</div>
            <div class="step-indicator" id="navStep3" data-step="3">3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞</div>
            <div class="step-indicator" id="navStep4" data-step="4">4. –ù–∞–ø–æ–≤–Ω–µ–Ω–Ω—è</div>
        </div>

        <section id="step-1" class="wizard-step active">
            <h2>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
            <div class="form-grid">
                <div>
                    <label>–ù–∞–∑–≤–∞ –≥—Ä—É–ø–∏</label>
                    <input type="text" id="groupName" value="–ú–æ—è –≥—Ä—É–ø–∞">
                </div>
                <div>
                    <label>–ü–∞—Ä –Ω–∞ –¥–µ–Ω—å</label>
                    <select id="pairsPerDay">
                        <option value="4">4</option>
                        <option value="5" selected>5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                    </select>
                </div>
            </div>

            <div class="week-type-block">
                <label>–Ø–∫–∏–π –∑–∞—Ä–∞–∑ —Ç–∏–∂–¥–µ–Ω—å?</label>
                <div class="radio-group">
                    <label><input type="radio" name="currentWeekType" value="num" checked> –ß–∏—Å–µ–ª—å–Ω–∏–∫</label>
                    <label><input type="radio" name="currentWeekType" value="den"> –ó–Ω–∞–º–µ–Ω–Ω–∏–∫</label>
                </div>
                <small style="display:block; margin-top:5px; color:#666;">–ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∫–∞–ª–µ–Ω–¥–∞—Ä—è.</small>
            </div>

            <h3>–ß–∞—Å –¥–∑–≤—ñ–Ω–∫—ñ–≤</h3>
            <div id="timeSettings" class="time-grid"></div>
            
            <div class="step-footer">
                <div></div>
                <button class="btn btn-primary" id="btnNext1">–î–∞–ª—ñ &rarr;</button>
            </div>
        </section>

        <section id="step-2" class="wizard-step">
            <h2>üìö –ü—Ä–µ–¥–º–µ—Ç–∏</h2>
            <div class="add-subject-box">
                <div class="input-row">
                    <input type="text" id="subjName" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–µ–¥–º–µ—Ç—É (–Ω–∞–ø—Ä. –í–∏—â–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)" style="width: 100%;">
                </div>
                
                <div class="checkbox-row" style="margin: 15px 0;">
                    <span style="font-weight:600; font-size:0.9rem; margin-right:10px;">–¢–∏–ø–∏ –∑–∞–Ω—è—Ç—å:</span>
                    <div class="checkbox-group">
                        <label><input type="checkbox" class="type-check" value="lecture" checked> –õ–µ–∫—Ü—ñ—è</label>
                        <label><input type="checkbox" class="type-check" value="practical"> –ü—Ä–∞–∫—Ç–∏–∫–∞</label>
                        <label><input type="checkbox" class="type-check" value="lab"> –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞</label>
                    </div>
                </div>

                <div id="typeDetailsContainer"></div>

                <div style="text-align: right; margin-top: 15px;">
                    <button id="addSubjectBtn" class="btn btn-primary">–î–æ–¥–∞—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç</button>
                </div>
            </div>

            <div id="subjectsList" class="subjects-list"></div>
            
            <div class="step-footer">
                <button class="btn btn-outline" id="btnPrev2">&larr; –ù–∞–∑–∞–¥</button>
                <button class="btn btn-primary" id="btnNext2">–î–∞–ª—ñ &rarr;</button>
            </div>
        </section>

        <section id="step-3" class="wizard-step">
            <h2>üìê –°—Ç—Ä—É–∫—Ç—É—Ä–∞</h2>
            <p class="hint">–ö–ª—ñ–∫–∞–π –Ω–∞ –∫–ª—ñ—Ç–∏–Ω–∫–∏ –¥–ª—è –ø–æ–¥—ñ–ª—É.</p>
            <div class="schedule-grid-container" id="structureGrid"></div>
            
            <div class="step-footer">
                <button class="btn btn-outline" id="btnPrev3">&larr; –ù–∞–∑–∞–¥</button>
                <button class="btn btn-primary" id="btnNext3">–î–∞–ª—ñ &rarr;</button>
            </div>
        </section>

        <section id="step-4" class="wizard-step">
            <h2>üé® –ù–∞–ø–æ–≤–Ω–µ–Ω–Ω—è</h2>
            <p class="hint">–ü–µ—Ä–µ—Ç—è–≥—É–π –ø—Ä–µ–¥–º–µ—Ç–∏ –∑–ª—ñ–≤–∞ —É —Å—ñ—Ç–∫—É.</p>
            <div class="editor-layout">
                <div id="draggableSubjects" class="sidebar"></div>
                <div class="schedule-grid-container" id="fillGrid"></div>
            </div>
            
            <div class="step-footer">
                <button class="btn btn-outline" id="btnPrev4">&larr; –ù–∞–∑–∞–¥</button>
                <button class="btn btn-success" id="saveResultBtn">üíæ –ó–ë–ï–†–ï–ì–¢–ò</button>
            </div>
        </section>
    </main>

    <div id="dropModal" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <h3 id="modalSubjectTitle">–ù–∞–∑–≤–∞ –ø—Ä–µ–¥–º–µ—Ç—É</h3>
                <p>–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–µ—Ç–∞–ª—ñ –¥–ª—è —Ü—ñ—î—ó –ø–∞—Ä–∏</p>
            </div>
            
            <div class="form-label">–¢–∏–ø –∑–∞–Ω—è—Ç—Ç—è:</div>
            <div id="modalTypeSelector" class="type-selector"></div>

            <div id="variantSelectorContainer" style="display:none; margin-bottom: 15px;">
                <label style="font-size: 0.8rem; font-weight: bold; display: block; margin-bottom: 5px;">–û–±–µ—Ä—ñ—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç:</label>
                <select id="modalVariantSelector" style="width: 100%; padding: 8px;"></select>
            </div>

            <div class="modal-inputs">
                <div class="input-group">
                    <label>üë§ –í–∏–∫–ª–∞–¥–∞—á:</label>
                    <input type="text" id="modalDropTeacher" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ –Ü.–ë.">
                </div>
                <div class="input-group">
                    <label>üö™ –ê—É–¥–∏—Ç–æ—Ä—ñ—è:</label>
                    <input type="text" id="modalDropRoom" placeholder="–ù–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä—ñ—ó">
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn btn-outline" id="btnCancelDrop">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-primary" id="btnConfirmDrop">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            </div>
        </div>
    </div>

    <div id="gridRadialMenu" class="radial-menu hidden">
        <div class="radial-btn top" data-action="split-vertical">‚¨Ü</div>
        <div class="radial-btn right" data-action="split-horizontal">‚û°</div>
        <div class="radial-btn bottom" data-action="clear">üóë</div>
    </div>
    <div id="dragGhost" class="drag-ghost hidden">Ghost</div>

    <script src="editor.js"></script>
</body>
</html>
