<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–∑–∫–ª–∞–¥—É</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./editor.css">
</head>
<body>

    <header>
        <h1>üß© –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</h1>
        <div>
            <button id="themeToggle" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">üåó</button>
            <a href="./index.html" class="nav-link">–í–∏—Ö—ñ–¥</a>
        </div>
    </header>

    <main class="editor-container">
        
        <div id="startScreen" class="screen active">
            <h2>–Ø–∫ –≤–∏ —Ö–æ—á–µ—Ç–µ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏?</h2>
            <div class="mode-buttons">
                <button id="btnClassicEdit" class="big-btn secondary">üìù –ö–ª–∞—Å–∏—á–Ω–∏–π —Å–ø–∏—Å–æ–∫</button>
                <button id="btnVisualEdit" class="big-btn primary">‚ú® –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑ –Ω—É–ª—è (–í—ñ–∑—É–∞–ª—å–Ω–æ)</button>
            </div>
            <div class="controls" style="justify-content: center; margin-top: 20px;">
                 <input type="file" id="loadFileInput" accept=".json" style="display: none;">
                 <button id="loadFileBtn" class="load-file-btn">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª</button>
            </div>
        </div>

        <div id="classicEditor" class="screen" style="display: none;">
            <div class="controls">
                <button id="backToStartBtn" class="load-btn">‚¨Ö –ù–∞–∑–∞–¥</button>
                <button id="saveBtn" class="save-btn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            </div>
            <div id="classicFormContainer"></div>
        </div>

        <div id="visualWizard" class="screen" style="display: none;">
            
            <div id="step1" class="wizard-step active">
                <h3>–ö—Ä–æ–∫ 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å—ñ—Ç–∫–∏</h3>
                <div class="form-grid">
                    <label>–¢–∏–ø —Ç–∏–∂–Ω—è:
                        <select id="wizWeekType">
                            <option value="numden">–ß–∏—Å–µ–ª—å–Ω–∏–∫ / –ó–Ω–∞–º–µ–Ω–Ω–∏–∫</option>
                            <option value="none">–ë–µ–∑ –ø–æ–¥—ñ–ª—É</option>
                        </select>
                    </label>
                    <label>–ü–∞—Ä –Ω–∞ –¥–µ–Ω—å:
                        <input type="number" id="wizLessonCount" value="5" min="1" max="10">
                    </label>
                </div>
                <div id="wizTimeSlots" class="time-slots-grid">
                    </div>
                <button class="next-btn" onclick="wizardNext(2)">–î–∞–ª—ñ ‚û°</button>
            </div>

            <div id="step2" class="wizard-step">
                <h3>–ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä—ñ—Ç—å "–ü–∞–∑–ª–∏"</h3>
                
                <div class="db-creator">
                    <div class="db-column">
                        <h4>–ü—Ä–µ–¥–º–µ—Ç–∏</h4>
                        <div class="input-row">
                            <input type="text" id="newSubjectName" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–µ–¥–º–µ—Ç—É">
                            <div class="type-toggles">
                                <label><input type="checkbox" id="hasLec"> –õ–µ–∫</label>
                                <label><input type="checkbox" id="hasPrac"> –ü—Ä–∞–∫</label>
                                <label><input type="checkbox" id="hasLab"> –õ–∞–±</label>
                            </div>
                            <button id="addSubjectBtn">+</button>
                        </div>
                        <div id="subjectList" class="items-list"></div>
                    </div>

                    <div class="db-column">
                        <h4>–ê—É–¥–∏—Ç–æ—Ä—ñ—ó / –í–∏–∫–ª–∞–¥–∞—á—ñ</h4>
                        <div class="input-row">
                            <input type="text" id="newRoomName" placeholder="–ê—É–¥–∏—Ç–æ—Ä—ñ—è (–Ω–∞–ø—Ä. 305)">
                            <button id="addRoomBtn">+</button>
                        </div>
                        <div id="roomList" class="items-list"></div>
                    </div>
                </div>
                <div class="wizard-nav">
                    <button class="prev-btn" onclick="wizardNext(1)">‚¨Ö –ù–∞–∑–∞–¥</button>
                    <button class="next-btn" onclick="wizardNext(3)">–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—ñ—Ç–∫—É ‚û°</button>
                </div>
            </div>

            <div id="step3" class="wizard-step full-width">
                <div class="workspace">
                    
                    <div class="schedule-grid-container">
                        <div class="days-header">
                            <button class="day-tab active" data-day="monday">–ü–ù</button>
                            <button class="day-tab" data-day="tuesday">–í–¢</button>
                            <button class="day-tab" data-day="wednesday">–°–†</button>
                            <button class="day-tab" data-day="thursday">–ß–¢</button>
                            <button class="day-tab" data-day="friday">–ü–¢</button>
                        </div>
                        <div id="visualGrid" class="visual-grid">
                            </div>
                        <div class="grid-hint">
                            üí° –¢—è–≥–Ω–∏ –∫–∞—Ä—Ç–∫—É: ‚û° –ü—ñ–¥–≥—Ä—É–ø–∏ | ‚¨á –ß–∏—Å–ª/–ó–Ω–∞–º | ‚¨Ö –ß–∞—Å
                        </div>
                    </div>

                    <div class="puzzle-sidebar">
                        <div class="puzzle-tabs">
                            <button class="puz-tab active" data-type="subjects">–ü—Ä–µ–¥–º–µ—Ç–∏</button>
                            <button class="puz-tab" data-type="rooms">–ê—É–¥–∏—Ç–æ—Ä—ñ—ó</button>
                        </div>
                        <div id="puzzleContainer" class="puzzle-container">
                            </div>
                        <div class="sidebar-hint" id="sidebarHint">
                            –¢—è–≥–Ω–∏ –ø—Ä–µ–¥–º–µ—Ç: ‚¨Ü –õ–µ–∫—Ü—ñ—è | ‚Üô –ü—Ä–∞–∫—Ç–∏–∫–∞ | ‚Üò –õ–∞–±–∞
                        </div>
                        <button id="finishVisualBtn" class="save-btn big">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –≤—Å–µ</button>
                    </div>

                </div>
            </div>

        </div>

    </main>

    <div id="timeModal" class="modal">
        <div class="modal-content">
            <h3>–ó–º—ñ–Ω–∏—Ç–∏ —á–∞—Å</h3>
            <input type="text" id="customTimeInput" placeholder="00:00 - 00:00">
            <div class="modal-actions">
                <button id="saveTimeBtn">–û–ö</button>
                <button onclick="document.getElementById('timeModal').style.display='none'">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <script src="./editor.js"></script>
</body>
</html>
